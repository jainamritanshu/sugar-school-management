<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard | Personalised Test Assessment</title>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <script src="{% static 'js/jquery-2.2.4.min.js' %}"></script>
  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap-material-design.css' %}">
  <link rel="stylesheet" href="{% static 'css/ripples.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="{% static 'css/jquery.dropdown.css' %}">
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/material.min.js' %}"></script>
  <script src="{% static 'js/ripples.min.js' %}"></script>


</head>
<body>
  <nav class="navbar navbar-fixed-up">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="http://www.edumorf.com">
          <img alt="Brand" src="{% static 'img/logo.png' %}" />
        </a>
      </div>
      <ul class="nav navbar-nav navbar-right">
        <li>
          <p class="navbar-btn">
            <a href="/login" class="btn btn-info btn-raised">Logout</a>
          </p>
        </li>
      </ul>
    </div>
  </nav>

  <div class="row">
    <div class="col-xs-2" >
      <div class="container-fluid" style="width:100%;padding:0">
        <div class="well sideBar">
          <div class="row">
            <div class="col-xs-6 col-xs-offset-3">
              <a href="#" class="thumbnail">
                <i class="material-icons">person</i>
              </a>
            </div>
          </div>
          <hr/>
          <div class="row">
            <div class="col-xs-12">
              <ul class="nav nav-list long" style="max-width: 300px;">
                <li id="home"><a href="#"><span style="margin-right:15px"><i class="material-icons">home</i></span><span class="hidden-xs" style="text-align:left">Home</span></a></li>
                <li id="profile"><a href="#"><span style="margin-right:15px"><i class="material-icons">person</i></span><span class="hidden-xs"  style="text-align:left">Profile</span></a> </li>
                <li id="samplePractice"><a href="#"><span style="margin-right:15px"><i class="material-icons">file_download</i></span><span class="hidden-xs"  style="text-align:left">Sample Papers</span></a> </li>
                <li id="PTATest"><a href="#"><span style="margin-right:15px"><i class="material-icons">event_note</i></span><span class="hidden-xs"  style="text-align:left">Personality Test</span></a> </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-10">
      <div class="row head">
        <div class="container-fluid">
          <div class="col-md-10 ">
            <div class="well">
              <h3>Dashboard</h3>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="container-fluid">
          <div class="col-md-5 infoBox main">
            <div class="well">
              <div class="container-fluid">
                <div class="row">
                  <div class="page-header">
                    <h4>Basic Info <span style="float:right"><i class="material-icons edit">mode_edit</i></span></h4>
                  </div>
                </div>
                <div class="row mainBox">
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-5  infoBox side">
            <div class="well">
              <div class="container-fluid">
                <div class="row">
                  <div class="page-header">
                    <h4>Summary</h4>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-8 col-xs-offset-1 ">
                    <h5>Number of Tests Given</h5>
                  </div>
                  <div class="col-xs-2 col-xs-offset-1">
                    <h5 id="testNo"><strong>3</strong></h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-8 col-xs-offset-1 ">
                    <h5>Number of Practice Tests Given</h5>
                  </div>
                  <div class="col-xs-2 col-xs-offset-1">
                    <h5 id="pTestNo"><strong>5</strong></h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-8 col-xs-offset-1 ">
                    <h5>Best Rank</h5>
                  </div>
                  <div class="col-xs-2 col-xs-offset-1">
                    <h5 id="bestRank"><strong>34</strong></h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-8 col-xs-offset-1 ">
                    <h5>Best State Rank</h5>
                  </div>
                  <div class="col-xs-2 col-xs-offset-1">
                    <h5 id="bestStateRank"><strong>4</strong></h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-8 col-xs-offset-1 ">
                    <h5>Best Score</h5>
                  </div>
                  <div class="col-xs-2 col-xs-offset-1">
                    <h5 id="pBestScore"><strong>289</strong></h5>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>


    </div>
  </div>

<script src="../js/jquery.dropdown.js"></script>

<script>
$(".dropdown").hover(
  function() {
    $('.dropdown-menu', this).stop( true, true ).fadeIn("fast");
    $(this).toggleClass('open');
    $('b', this).toggleClass("caret caret-up");
  },
  function() {
    $('.dropdown-menu', this).stop( true, true ).fadeOut("fast");
    $(this).toggleClass('open');
    $('b', this).toggleClass("caret caret-up");
  }
);

var profileFields=['Name','Roll','Birthday','Class','City','School','Email','Contact'];

$('ul li:not(#home)').click(function(){
  $('.side,.head').slideUp();
  $('.main').removeClass('col-md-5');
  $('.main').addClass('col-md-10');
  $('.mainBox').empty();
  $('.main .page-header h4').remove();
  if(!$('.main .page-header h3').length)
  $('.main .page-header').append("<h3></h3>");
});


$('#home').click(function(){
  $('.main').removeClass('col-md-10');
  $('.main').addClass('col-md-5');
  $('.side,.head').slideDown();
  //call
  name="Rahul";
  $('.head h3').html("Hello , "+name);
  $('.mainBox').empty();
  $('.main .page-header h3').remove();
  if(!$('.main .page-header h4').length)
  $('.main .page-header').append("<h4></h4>");
  $('.main .page-header h4').html('Basic Info <span style="float:right"><i class="material-icons edit">mode_edit</i></span>');
  for(i=0;i<profileFields.length;i++){
    if($.inArray(profileFields[i],['Birthday','Class'])!=-1)
    continue;
    var baseEle="<div class='row detail'><div class='col-xs-2 col-xs-offset-1'> <h5><strong>"+profileFields[i]+"</strong></h5> </div> <div class='col-xs-8 col-xs-offset-1 '> <h5 id="+profileFields[i].toLowerCase().replace(" ","_")+">value</h5> </div></div>";
    $('.mainBox').append(baseEle);
  }
});

$('#profile').click(function(){
  $('.main .page-header h3').html('Info<span style="float:right"><i class="material-icons edit">mode_edit</i></span>');
  for(i=0;i<profileFields.length;i++){
    var baseEle="<div class='row detail'><div class='col-xs-2 col-xs-offset-1 col-md-offset-3'> <h5><strong>"+profileFields[i]+"</strong></h5> </div> <div class='col-xs-8 col-xs-offset-1 col-md-6'> <h5 id="+profileFields[i].toLowerCase().replace(" ","_")+">value</h5> </div></div>";
    $('.mainBox').append(baseEle);
  }
});

$('#samplePractice').click(function(){
  $('.main .page-header h3').html('Sample Papers');
  var form="<form class='form-inline' role='form'> <div class='form-group'> <label class='control-label col-md-2' for='class'>Class</label><div class='col-md-10'>  <select id='class' class='select form-control' required> <option value='5'>5</option> <option value='6'>6</option> <option value='7'>7</option> <option value='8'>8</option> <option value='9'>9</option> <option value='10'>10</option> <option value='11'>11</option> <option value='12'>12</option> </select> </div> </div> <button type='submit' class='btn btn-info btn-raised' id='samplePracticeSubmit'>Submit</button> </form>";
  $('.mainBox').append("<div class='row'><div class='col-md-8 col-xs-10 col-md-offset-2 text-center '>"+form+"</div></div>");
  $.material.init();
  $(".select").dropdown({"optionClass": "withripple"});
});


$('#PTATest').click(function() {
  $('.main .page-header h3').html('Personality Test');
  var Instructions=[
    'The online test can be submitted only once.',
    'The result will be displayed on successful submission.',
    'Detailed analysis and the solutions will be available once the test has been submitted successfully',
    'The test cannot be stop in between'
  ];
  $('.mainBox').append("<div class='row'><div class='col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2 ' style='font-style:italic'><h5 class='text-danger'> Instructions:</h5><ul class='instructList'></ul></div></div>");
  Instructions.map(function(ele){
    $('.instructList').append("<li><h6 style='margin:2px 0'>"+ele+"</h6></li>");
  });
    $('.mainBox').append("<div class='row' style='margin-top:1em'><div class='col-xs-10 col-xs-offset-1 text-center'> <button type='submit' class='btn btn-info btn-raised' id='startTest'>Start</button></div></div>");
});

$(document).on('click','#samplePracticeSubmit',function(){
  $('.results').remove();
  if(!$('.samplePracticeResults').length)
  $('.mainBox').append("<div class='row samplePracticeResults'><div class='col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1'><div class='page-header'><h4>Results <span class='badge' style='color: white; background-color:#03A9F4;margin-left:9px'>0</span></h4></div></div></div>");
  var classNo=$('select#class option:selected').val();
  //call to get results and initiate loader
  var results=[
    {
      "name":"Sample Paper 1_"+classNo,
      "url":"../resources/pset1_"+classNo+".pdf"
    },
    {
      "name":"Sample Paper 2_"+classNo,
      "url":"../resources/pset2_"+classNo+".pdf"
    }
  ];
  $('.samplePracticeResults span').html(results.length);
  var elementContainer="";
  results.map(function(ele){
    elementContainer += "<div class='col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1' style='margin-top:1em;display: flex;align-items: center;'><div class='col-xs-8 col-md-5'><h5>"+ele.name+"</h5></div>  <div class='col-xs-8 col-md-5 col-md-offset-2 text-right' > <a href="+ele.url+" class='btn btn-sup btn-raised btn-sm'> <i class='material-icons'>file_download</i> <span>DOWNLOAD</span> </a></div> </div>";
  });
  $('.mainBox').append("<div class='row results'><div class='container-fluid'>"+elementContainer+"</div></div>");
});



$(document).on('click','.edit',function(){
  $('.side,.head').fadeOut();
  $('.main').removeClass('col-md-5');
  $('.main').addClass('col-md-10');
  $('.mainBox').empty();
  $('.main .page-header h3').html('Edit Details');
  //call to get previous details
  $('.mainBox').append("<div class='row'> <div class='col-md-8 col-md-offset-2'> <form role='form' class='form-horizontal'> <fieldset> <div class='form-group'> <label class='control-label col-md-2' for='name'>Name</label> <div class='col-md-10'> <input  class='form-control' id='name' required /> </div> </div> <div class='form-group'> <label class='control-label col-md-2' for='birthday'> Birthday</label> <div class='col-md-10'> <input type='date' class='form-control' id='birthday' required> </div> </div><div class='form-group'> <label  class='control-label col-md-2' for='class'>Class</label> <div class='col-md-10'> <select id='school' class='select form-control' data-dynamic-opts=true required> <option value='5'>5</option> <option value='6'>6</option> <option value='7'>7</option> <option value='8'>8</option> <option value='9'>9</option> <option value='10'>10</option> <option value='11'>11</option> <option value='12'>12</option> </select> </div> </div> <div class='form-group'> <label class='control-label col-md-2' for='email'> Email</label> <div class='col-md-10'> <input type='email' class='form-control' id='email' required> </div> </div> <div class='form-group'> <label class='control-label col-md-2' for='contact'> Contact</label> <div class='col-md-10'> <input type='text' class='form-control' id='contact' required> </div> </div> <div class='form-group'> <label class='control-label col-md-2' for='password'> Password</label> <div class='col-md-10'> <input type='password' class='form-control' id='password' required> </div> </div> <div class='form-group'> <label class='control-label col-md-2' for='confpassword'> Confirm Password</label> <div class='col-md-10'> <input type='password' class='form-control' id='confpassword' required> </div> </div> <div class='form-group'> <div class='col-md-8 col-md-offset-2 text-center'> <button type='submit' class='btn btn-info btn-raised'>Save Changes</button> </div> </div> </fieldset> </form> </div> </div>");
  $.material.init();
  $(".select").dropdown({"optionClass": "withripple"});

  // $(".select").dropdown({"optionClass": "withripple"});
});


</script>
</body>
</html>
